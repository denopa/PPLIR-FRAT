//
//  Disclaimer.swift
//  PPLIR-FRAT
//
//  Created by Patrick de Nonneville on 01/03/2021.
//

import Foundation
import SwiftUI

struct DisclaimerView : View {
    
    @AppStorage("firstTime") var firstTime: Bool = true
    
    var body: some View {
        VStack {
            VStack {
                HStack {
                    Image("55")
                    Text("Flight Risk Assesment Tool").font(Font.headline)
                }
                Text("How to use this tool").font(Font.largeTitle)
            }
            Spacer()
            ScrollView(.vertical, showsIndicators: true) {
                VStack {
                    Text("BASIS ON WHICH WE MAKE THIS TOOL AVAILABLE TO YOU").font(Font.footnote)
                    Text("")
                    Text("THIS IS NOT (JUST) A DISCLAIMER, YOU *MUST* READ THIS BEFORE USE.").font(Font.footnote).underline().multilineTextAlignment(.center)
                    Text("")
                    Text("This application is provided, for free, as a training tool to help members of PPL/IR Europe consider some of the risks inherent in General Aviation flying. The risk score that the tool generates, the risk factors that it takes into account, and the weightings that it assigns to each factor are intended only as an aid to discussion and consideration of risk; they are not the product of any scientific research, they have not been independently validated, and they do not claim to be authoritative or complete. They must not be mistaken for advice. Further, as with all software, this application may contain bugs and may present a risk score that does not correspond to the inputs.").font(Font.footnote).multilineTextAlignment(.leading)
                    Text("")
                    Text("USE OF THIS TOOL DOES NOT IN ANY WAY, SHAPE OR FORM RELIEVE YOU OF ANY RESPONSIBILITY LINKED TO THE PLANNING AND CONDUCT OF A POTENTIAL FLIGHT. YOU ARE NOT PERMITTED TO USE THIS TOOL AS A SUBSTITUTE FOR ANY PRE-FLIGHT PLANNING STEP THAT YOU WOULD TAKE IF THIS TOOL WERE NOT AVAILABLE; AND YOU ARE NOT PERMITTED TO RELY ON ANY RISK SCORE GENERATED BY THIS APPLICATION AS THE BASIS (OR AS ANY PART OF THE BASIS) OF A DECISION TO UNDERTAKE ANY FLIGHT.").font(Font.footnote)
                    Text("")
                    Text("THIS APPLICATION IS PROVIDED “AS IS” WITHOUT ANY WARRANTY, REPRESENTATION, OR CONDITION OF ANY KIND; AND ANY WARRANTY, EXPRESS OR IMPLIED IS EXCLUDED AND DISCLAIMED TO THE MAXIMUM EXTENT PERMITTED BY LAW, INCLUDING THE WARRANTY OF FITNESS FOR A PARTICULAR PURPOSE.").font(Font.footnote)
                    Text("")
                }
                VStack{
                    Text("TO THE EXTENT PERMITTED BY LAW: PPL/IR EUROPE LTD, ITS OFFICERS AND MEMBERS, AND THE CREATORS AND DEVELOPERS OF THIS APPLICATION DISCLAIM ANY AND ALL RESPONSIBILITY FOR THE CONSEQUENCES OF USING THIS APPLICATION; AND IN NO EVENT SHALL PPL/IR EUROPE LTD, ITS OFFICERS AND MEMBERS, AND/OR THE CREATORS AND DEVELOPERS OF THIS APPLICATION BE LIABLE FOR ANY DAMAGE WHATSOEVER, INCLUDING SPECIAL, INDIRECT, CONSEQUENTIAL OR INCIDENTAL DAMAGES, INCLUDING LOST PROFIT (WHETHER DIRECT OR INDIRECT), ARISING OUT OF OR CONNECTED WITH ANY OF THE MATERIAL OR THE USE, RELIANCE UPON OR PERFORMANCE OF ANY MATERIAL CONTAINED IN THIS TOOL.").font(Font.footnote)
                    Text("")
                    Text("THE PILOT IN COMMAND IS SOLELY RESPONSIBLE FOR THE SAFE, PROPER AND LEGAL OPERATION OF HIS/HER AIRCRAFT.").font(Font.footnote)
                    Text("")
                    Spacer()
                    Button("Accept", action: toContent)
                }
            }
            .padding()
            
        }
    }
    
    func toContent() {
//        firstTime = false
        if let window = UIApplication.shared.windows.first {
                window.rootViewController = UIHostingController(rootView: ContentView())
                window.makeKeyAndVisible()
            }
    }
    
}



struct DisclaimerView_Previews: PreviewProvider {
    static var previews: some View {
        DisclaimerView().environment(\.colorScheme, .light)
    }
}
